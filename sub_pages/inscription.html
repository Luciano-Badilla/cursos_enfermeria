<!DOCTYPE html>
<html lang="es">

<head>
    <title>Inscripcion</title>
    <link rel="icon" href="https://cdn.iconscout.com/icon/free/png-256/free-hospital-2206985-1841178.png"
        type="image/png">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Roboto', sans-serif;
        }

        .error-message {
            color: #e53e3e;
            font-size: 0.875rem;
            display: none;
        }
    </style>
</head>

<body>
    <div class="container mx-auto px-4 py-8">
        <div class="max-w-2xl mx-auto bg-white shadow-md rounded-lg">
            <div class="p-6 border-b">
                <h2 class="text-2xl font-bold">Formulario de Inscripción</h2>
                <p class="text-gray-600">Por favor, completa tus datos para inscribirte al curso.</p>
            </div>
            <div class="p-6">
                <div class="mb-6">
                    <div class="flex justify-between mb-2">
                        <div id="progress-step-1" class="w-1/3 h-2 rounded-l-full bg-green-500"></div>
                        <div id="progress-step-2" class="w-1/3 h-2 bg-green-200"></div>
                        <div id="progress-step-3" class="w-1/3 h-2 rounded-r-full bg-green-200"></div>
                    </div>
                    <div class="flex justify-between text-sm">
                        <span>Información personal</span>
                        <span>Detalles del curso</span>
                        <span>Confirmación</span>
                    </div>
                </div>
                <form id="inscripcion-form" novalidate>
                    <div id="step-1" class="space-y-4">
                        <div class="flex flex-col space-y-1.5">
                            <label for="nombre" class="font-medium">Nombre completo</label>
                            <input id="nombre" name="nombre" type="text" class="border rounded px-3 py-2" required>
                            <p class="error-message" id="error-nombre">Este campo es obligatorio.</p>
                        </div>
                        <div class="flex flex-col space-y-1.5">
                            <label for="email" class="font-medium">Correo electrónico</label>
                            <input id="email" name="email" type="email" class="border rounded px-3 py-2" required>
                            <p class="error-message" id="error-email">Ingrese un correo electrónico válido.</p>
                        </div>
                        <div class="flex flex-col space-y-1.5">
                            <label for="telefono" class="font-medium">Teléfono</label>
                            <input id="telefono" name="telefono" type="tel" class="border rounded px-3 py-2" required>
                            <p class="error-message" id="error-telefono">Este campo es obligatorio.</p>
                        </div>
                    </div>
                    <div id="step-2" class="space-y-4 hidden">
                        <div class="flex flex-col space-y-1.5">
                            <label for="fechaNacimiento" class="font-medium">Fecha de nacimiento</label>
                            <input id="fechaNacimiento" name="fechaNacimiento" type="date"
                                class="border rounded px-3 py-2" required>
                            <p class="error-message" id="error-fechaNacimiento">Este campo es obligatorio.</p>
                        </div>
                        <div class="flex flex-col space-y-1.5">
                            <label class="font-medium">Género</label>
                            <div class="flex items-center space-x-2">
                                <input type="radio" id="masculino" name="genero" value="masculino" class="form-radio"
                                    required>
                                <label for="masculino">Masculino</label>
                            </div>
                            <div class="flex items-center space-x-2">
                                <input type="radio" id="femenino" name="genero" value="femenino" class="form-radio"
                                    required>
                                <label for="femenino">Femenino</label>
                            </div>
                            <div class="flex items-center space-x-2">
                                <input type="radio" id="otro" name="genero" value="otro" class="form-radio" required>
                                <label for="otro">Otro</label>
                            </div>
                            <p class="error-message" id="error-genero">Seleccione una opción.</p>
                        </div>
                    </div>
                    <div id="step-3" class="space-y-4 hidden">
                        <div class="flex flex-col space-y-1.5">
                            <label for="nivelEducacion" class="font-medium">Nivel de educación</label>
                            <select id="nivelEducacion" name="nivelEducacion" class="border rounded px-3 py-2" required>
                                <option value="">Selecciona tu nivel de educación</option>
                                <option value="secundaria">Secundaria</option>
                                <option value="tecnico">Técnico</option>
                                <option value="universitario">Universitario</option>
                                <option value="posgrado">Posgrado</option>
                            </select>
                            <p class="error-message" id="error-nivelEducacion">Este campo es obligatorio.</p>
                        </div>
                        <div class="flex flex-col space-y-1.5">
                            <label for="experienciaPrevia" class="font-medium">Experiencia previa en enfermería</label>
                            <input id="experienciaPrevia" name="experienciaPrevia" type="text"
                                class="border rounded px-3 py-2" placeholder="Describe brevemente tu experiencia">
                        </div>
                    </div>
                </form>
            </div>
            <div class="p-6 border-t">
                <div class="flex justify-between w-full">
                    <button id="prev-button"
                        class="bg-gray-200 text-gray-700 px-4 py-2 rounded hidden">Anterior</button>
                    <button id="next-button" class="bg-black text-white px-4 py-2 rounded ml-auto">Siguiente</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentStep = 1;

        const steps = [
            document.getElementById('step-1'),
            document.getElementById('step-2'),
            document.getElementById('step-3')
        ];

        const progressSteps = [
            document.getElementById('progress-step-1'),
            document.getElementById('progress-step-2'),
            document.getElementById('progress-step-3')
        ];

        const prevButton = document.getElementById('prev-button');
        const nextButton = document.getElementById('next-button');

        function showStep(step) {
            steps.forEach((s, index) => {
                s.classList.toggle('hidden', index !== step - 1);
            });

            progressSteps.forEach((p, index) => {
                p.classList.toggle('bg-green-500', index < step);
                p.classList.toggle('bg-gray-200', index >= step);
            });

            prevButton.classList.toggle('hidden', step === 1);
            nextButton.textContent = step === 3 ? 'Finalizar inscripción' : 'Siguiente';
        }

        function validateStep(step) {
            const fields = steps[step - 1].querySelectorAll('input, select');
            let isValid = true;

            fields.forEach(fields => {
                let errorMessage = document.getElementById(`error-${fields.id}`);

                // Verificación especial para los campos de radio (género)
                if (fields.type === 'radio' && fields.name === 'genero') {
                    const isGenderSelected = document.querySelector('input[name="genero"]:checked');
                    errorMessage = document.getElementById('error-genero');

                    if (errorMessage) {
                        if (!isGenderSelected) {
                            errorMessage.style.display = 'block';
                            isValid = false;
                        } else {
                            errorMessage.style.display = 'none';
                        }
                    }
                } else if (errorMessage) {
                    if (!fields.checkValidity()) {
                        errorMessage.style.display = 'block';
                        isValid = false;
                    } else {
                        errorMessage.style.display = 'none';
                    }
                }
            });

            return isValid;
        }

        // Evento de clic para el botón "Siguiente"
        nextButton.addEventListener('click', () => {
            if (validateStep(currentStep)) {
                if (currentStep < 3) {
                    currentStep++;
                    showStep(currentStep);
                } else {
                    // Obtener los parámetros de la URL
                    const urlParams = new URLSearchParams(window.location.search);
                    const cursoNombre = urlParams.get('nombre');
                    const cursoImagen = urlParams.get('imagen');
                    const cursoPrecio = urlParams.get('precio');

                    // Crear la URL de redirección a la página de pago con los parámetros del curso
                    let pagoUrl = 'payment.html'; // Para uso local, puedes usar una URL relativa.
                    pagoUrl += `?nombre=${encodeURIComponent(cursoNombre)}&imagen=${encodeURIComponent(cursoImagen)}&precio=${encodeURIComponent(cursoPrecio)}`;

                    // Enviar el formulario (si es necesario)
                    // document.getElementById('inscripcion-form').submit(); // Si deseas enviar el formulario al servidor

                    // Redirigir a la página de pago con los parámetros del curso
                    window.location.href = pagoUrl;
                }
            }
        });

        // Evento de clic para el botón "Anterior"
        prevButton.addEventListener('click', () => {
            if (currentStep > 1) {
                currentStep--;
                showStep(currentStep);
            }
        });

        // Mostrar el primer paso al inicio
        showStep(currentStep);
    </script>


</body>

</html>